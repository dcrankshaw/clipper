FROM tensorflow/tensorflow:latest-gpu

RUN mkdir -p /model \
    && apt-get update \
    && apt-get install -y libzmq-dev \
    && apt-get install -y python-pip \
    && pip install pyzmq

ENV CLIPPER_MODEL_PATH=/model.mod

WORKDIR /container

COPY impl/__init__.py impl/rpc.py /container/